(this["webpackJsonpquiz-generator-for-kahoot"]=this["webpackJsonpquiz-generator-for-kahoot"]||[]).push([[0],{14:function(e,t,n){e.exports=n(28)},19:function(e,t,n){},25:function(e,t){},26:function(e,t){},27:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(9),o=n.n(s),i=(n(19),n(5)),c=n(10),l=n(11),u=n(1),d=n(13),m=n(12),h=function(e){var t=e.onClick,n=e.title,a=e.children;return r.a.createElement("button",{title:n,onClick:t},a)},f=function(e){var t=e.list,n=e.onDismiss;return r.a.createElement("div",null,t.map((function(e,a){return r.a.createElement("div",{className:"question-container",key:e.id},r.a.createElement("div",{className:"question-header"},r.a.createElement(h,{title:"Delete Question",onClick:function(){return n(e.id)}},"x"),"Question ",a+1," of ",t.length),r.a.createElement("div",{className:"question"},e.question),e.answers.map((function(t,n){return n===e.correctAnswer?r.a.createElement("div",{className:"answer correct",key:n},t):r.a.createElement("div",{className:"answer",key:n},t)})))})))},p=n(2),v=n.n(p),w=(n(27),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={counter:0,isLoaded:!1,error:null,list:[]},a.fetchQuestions=a.fetchQuestions.bind(Object(u.a)(a)),a.createQuiz=a.createQuiz.bind(Object(u.a)(a)),a.onDismiss=a.onDismiss.bind(Object(u.a)(a)),a}return Object(l.a)(n,[{key:"createQuiz",value:function(){var e=this.state.list,t=new XMLHttpRequest;t.open("GET","https://kahoot.com/files/2019/08/Kahoot-Quiz-Spreadsheet-Template.xlsx",!0),t.responseType="arraybuffer",t.onload=function(n){var a=new Uint8Array(t.response),r=v.a.read(a,{type:"array"}),s=r.Sheets.Sheet1;v.a.utils.sheet_add_json(s,e.map((function(e){var t={};return t.question=e.question,t.answer1=e.answers[0],t.answer2=e.answers[1],t.answer3=e.answers[2],t.answer4=e.answers[3],t.timeout=20,t.correct_answer=e.correctAnswer+1,t})),{skipHeader:!0,origin:{r:8,c:1}}),v.a.writeFile(r,"quiz.xlsx")},t.send()}},{key:"fetchQuestions",value:function(){var e=this,t=this.state.counter;fetch("https://opentdb.com/api.php?amount=10&type=multiple&encode=url3986").then((function(e){return e.json()})).then((function(n){var a=n.results.map((function(e){var n={id:t++,question:decodeURIComponent(e.question),answers:[decodeURIComponent(e.incorrect_answers[0]),decodeURIComponent(e.incorrect_answers[1]),decodeURIComponent(e.incorrect_answers[2])]};return n.correctAnswer=Math.floor(4*Math.random()),n.answers.splice(n.correctAnswer,0,decodeURIComponent(e.correct_answer)),n}));e.setState((function(e){return{isLoaded:!0,counter:t,list:[].concat(Object(i.a)(a),Object(i.a)(e.list))}}))}),(function(t){console.log(t),e.setState({isLoaded:!0,error:t})}))}},{key:"onDismiss",value:function(e){var t=this.state.list.filter((function(t){return t.id!==e}));this.setState({list:t})}},{key:"componentDidMount",value:function(){this.fetchQuestions()}},{key:"render",value:function(){var e=this.state,t=e.error,n=e.isLoaded,a=e.list;return t?r.a.createElement("div",null,"Error: ",t.message):n?r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"header"},r.a.createElement("h2",null,"Kahoot Quiz Generator - ",a.length," ",1===a.length?"Question":"Questions"),r.a.createElement("p",null,"This page retrieves random questions from the"," ",r.a.createElement("a",{href:"https://opentdb.com/"},"Open Trivia DB")," and allows users to generate an Excel file (XLSX) that is compatible with the"," ",r.a.createElement("a",{href:"https://kahoot.com"},"Kahoot Quiz Platform"),"."),r.a.createElement(h,{onClick:this.fetchQuestions},"Add More Questions"),a.length?r.a.createElement(h,{onClick:this.createQuiz},"Download Kahoot XLSX"):null),r.a.createElement(f,{list:a,onDismiss:this.onDismiss})):r.a.createElement("div",null,"Loading...")}}]),n}(a.Component));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root"))},8:function(e,t){}},[[14,1,2]]]);
//# sourceMappingURL=main.d961fe6f.chunk.js.map